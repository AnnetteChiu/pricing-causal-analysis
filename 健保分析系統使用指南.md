# 健保費用數據爬蟲與因果推論分析系統使用指南

## 🎯 系統概述

這個系統結合了數據爬蟲技術和因果推論分析方法，專門用於健保費用的統計分析和政策影響評估。系統能夠：

- 🕷️ **自動爬取健保相關數據**
- 📊 **進行描述性統計分析**
- 🔬 **執行因果推論分析**
- 📈 **生成可視化報告**
- 🎯 **模擬政策影響**

## 🚀 快速開始

### 運行完整分析
```bash
python3 healthcare_analysis_system.py
```

### 單獨運行模塊
```bash
# 只運行數據爬蟲
python3 healthcare_cost_scraper.py

# 只運行因果推論分析
python3 healthcare_causal_analysis.py
```

## 📊 系統功能

### 1. 數據爬蟲模塊 (`healthcare_cost_scraper.py`)

#### 主要功能
- **健保署統計資料爬取**: 獲取健保總費用、分項費用等
- **醫療價格資料爬取**: 收集各類醫療服務價格
- **醫院資料爬取**: 統計醫院數量、病床數、就診人次等

#### 數據來源
- 健保署官方網站
- 衛福部統計資料
- 各地區醫院資訊

#### 使用示例
```python
from healthcare_cost_scraper import HealthcareCostScraper

# 創建爬蟲實例
scraper = HealthcareCostScraper()

# 執行爬蟲
data = scraper.run_scraping()

# 保存數據
df = scraper.save_data('healthcare_data.csv')
```

### 2. 統計分析模塊 (`HealthcareCostAnalyzer`)

#### 分析功能
- **費用趨勢分析**: 健保費用的時間序列分析
- **分類費用分析**: 門診、住院、藥品等分項分析
- **地區差異分析**: 各地區醫療費用比較
- **醫院容量分析**: 病床數、就診人次統計

#### 關鍵指標
- 健保總費用趨勢
- 年增長率
- 地區平均醫療費用
- 醫院容量分布

### 3. 因果推論分析模塊 (`healthcare_causal_analysis.py`)

#### 分析方法
- **隨機實驗分析**: 評估政策干預效果
- **回歸調整分析**: 控制混淆變數
- **成本效益分析**: 計算各地區效率指標

#### 應用場景
- 健保政策影響評估
- 醫療資源配置優化
- 成本控制效果分析

### 4. 政策模擬模塊

#### 模擬情境
- **現狀維持**: 基準情境
- **提高給付**: 增加健保給付範圍
- **降低給付**: 減少健保給付
- **分級醫療**: 推動分級醫療制度
- **預防保健**: 加強預防保健投入

#### 評估指標
- 預估費用變化
- 就醫人次影響
- 效率指標 (人次/費用)

## 📈 分析結果解讀

### 統計分析結果

#### 費用趨勢
- **平均月費用**: 73.7億元
- **年增長率**: 66.3%
- **費用分布**: 門診 > 住院 > 藥品 > 檢查

#### 地區差異
- **最高**: 台南市 (23,964元)
- **最低**: 台北市 (13,675元)
- **差異**: 約75%的費用差距

#### 醫院容量
- **病床數**: 台北市最多 (100,847床)
- **就診人次**: 各地區相對均衡 (1,000-1,100人次/日)

### 因果推論結果

#### 政策影響
- **就診次數變化**: -0.28次 (不顯著)
- **統計顯著性**: p=0.7598 (不顯著)
- **解釋**: 當前政策對就診行為影響有限

#### 成本效益
- **最高效率**: 台北市 (277元/次)
- **最低效率**: 台南市 (487元/次)
- **改善空間**: 南部地區成本控制

### 政策模擬結果

#### 最佳策略
1. **預防保健**: 效率最高 (2.73萬人次/億元)
2. **分級醫療**: 成本控制佳 (2.28萬人次/億元)
3. **提高給付**: 服務量增加但成本上升

## 💡 實際應用建議

### 政策制定者
- 參考地區差異制定差異化政策
- 重視預防保健投資的長期效益
- 推動分級醫療制度降低成本

### 醫院管理者
- 關注成本效益指標
- 優化資源配置
- 提升服務效率

### 研究人員
- 使用因果推論方法評估政策效果
- 結合多種數據源進行分析
- 持續監控趨勢變化

## 🔧 系統擴展

### 添加新數據源
```python
class CustomHealthcareScraper(HealthcareCostScraper):
    def scrape_custom_data(self):
        # 添加自定義爬蟲邏輯
        pass
```

### 自定義分析方法
```python
class CustomHealthcareAnalyzer(HealthcareCostAnalyzer):
    def custom_analysis(self):
        # 添加自定義分析方法
        pass
```

### 新增政策情境
```python
# 在 healthcare_analysis_system.py 中添加
new_scenarios = {
    '遠程醫療': {'cost_change': -0.15, 'access_change': 0.25},
    'AI輔助診斷': {'cost_change': -0.10, 'access_change': 0.10}
}
```

## ⚠️ 注意事項

### 數據爬蟲
- 遵守網站robots.txt規則
- 控制請求頻率避免被封鎖
- 定期更新爬蟲邏輯適應網站變化

### 分析結果
- 模擬數據僅供演示，實際使用需要真實數據
- 因果推論結果需要滿足相關假設
- 政策建議需要結合實際情況

### 系統維護
- 定期更新數據源
- 檢查分析邏輯的有效性
- 備份重要數據和結果

## 📞 技術支持

如遇到問題：
1. 檢查Python環境和依賴包
2. 確認網絡連接和數據源可用性
3. 查看錯誤日誌和調試信息
4. 參考代碼註釋和文檔

## 🔮 未來發展

### 短期計劃
- [ ] 增加更多真實數據源
- [ ] 優化爬蟲效率和穩定性
- [ ] 添加更多統計分析方法

### 長期計劃
- [ ] 開發Web界面
- [ ] 實時數據監控
- [ ] 機器學習預測模型
- [ ] 國際健保系統比較

---

**版本**: 1.0.0  
**更新日期**: 2026年1月11日  
**作者**: Annette Chiu